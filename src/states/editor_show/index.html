<form name="$form" promise="promise" ng-submit="promise = trigger()">
    <div>
        {{query.name}}
        <button class="btn btn-success btn-xs" ng-disabled="promise.isLoading">
            <i class="fa fa-play" ng-if="!promise.isLoading"></i>
            <span loader="promise.isLoading"></span>
            Send
        </button>
    </div>
</form>

<code-editor value="query.config" style="width:100%;height:400px;border:1px solid #ccc; display: block"></code-editor>

<hr />
<div class="btn-group">
    <span class="btn btn-default btn-xs" ng-click="_.contentResponse = 'response'" ng-class="{active: _.contentResponse == 'response'}"><span class="label label-default" ng-if="response">{{response.status}}</span> Response <i class="fa fa-caret-down"></i></span>
    <span class="btn btn-default btn-xs" ng-click="_.contentResponse = 'tests'" ng-class="{active: _.contentResponse == 'tests'}">
        <span class="label label-danger" ng-if="tests && tests.fails">{{tests.successes}}/{{tests.tests.length}}</span>
        <span class="label label-success" ng-if="tests && !tests.fails">{{tests.tests.length}}</span>
        Tests <i class="fa fa-caret-down"></i>
    </span>
</div>

<div response="response" ng-if="_.contentResponse == 'response' && response"></div>
<div tests="tests" ng-if="_.contentResponse == 'tests' && tests"></div>


